{"code":"!function(e){var t={};function r(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var s in e)r.d(n,s,function(t){return e[t]}.bind(null,s));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=0)}([function(e,t,r){\"use strict\";r.r(t);var n=class{constructor(){this.observers=[]}addObserver(e){this.observers.push(e)}removeObserver(e){const t=this.observers.findIndex(t=>e===t);-1!==t&&(this.observers=this.observers.slice(t,1))}notify(e){this.observers.length>0&&this.observers.forEach(t=>t.update(e))}};var s=class{update(){}};var a=class extends s{createMarkup(e){return`<ul>\\n    ${e.users.map(e=>`<li>${e.name}</li>`).join(\"\\n\")}\\n    </ul>`}render(e,t=\"app\"){const r=this.createMarkup(e);document.getElementById(t).innerHTML=r}update(e){this.render(e,\"user-list-container\")}};var u=class{constructor(e={}){this.appState=e}createMarkup(e){return'<div>\\n      <form id=\"add-user\">\\n        <label for=\"username\">Add a User</label>\\n        <input id=\"username\" type=\"text\" name=\"name\">\\n        <button type=\"submit\">Add</button>\\n      </form>\\n    </div>'}render(e=\"app\"){const t=this.createMarkup(this.state);document.getElementById(e).innerHTML=t,this.bindEvents()}bindEvents(){document.getElementById(\"add-user\").addEventListener(\"submit\",e=>{e.preventDefault();const t=e.target,{value:r}=t.name;if(!r)return;const n=this.appState.get(),s=[...n.users,{id:n.users.length++,name:r}];t.name.value=\"\",this.appState.update({...n,users:s})})}};var i=class extends s{createMarkup(e){return`<span>\\n    user count: ${e.users.length}\\n    </span>`}render(e,t=\"app\"){const r=this.createMarkup(e);document.getElementById(t).innerHTML=r}update(e){this.render(e,\"user-count-container\")}};const o=new class extends n{constructor(){super(),this.state={}}update(e={}){this.state=Object.assign(this.state,e),this.notify(this.state)}get(){return this.state}},d=new a,c=new u(o),l=new i;o.update({users:[{id:1,name:\"Jennifer\"},{id:2,name:\"Jane\"},{id:3,name:\"John\"}]}),o.addObserver(d),o.addObserver(l),d.render(o.get(),\"user-list-container\"),c.render(\"add-user-container\"),l.render(o.get(),\"user-count-container\")}]);","extractedComments":[]}